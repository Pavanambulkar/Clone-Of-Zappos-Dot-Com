<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles/womens.css">
    <link rel="stylesheet" href="./styles/index.css">
    <title>Document</title>
    <style>
        #mens_shirt{
       display: flex;
   }
   </style>
</head>
<body>
    <div id="navbar_main"></div>
    <div id="sorting">
      <select name="Sorted" id="sort1" >
        <option value="rev">Relevance</option>
        <option value="htl">High To Low</option>
        <option value="lth">Low To High</option>
        <option value="rate">Customer Ratings</option>
        <option value="new">New Arrival</option>
        <option value="brand">Brand Name</option>
    </select>
    </div>
   

     <div id="mens_shirt">
       
     </div>
    <div id="footer1"></div>
</body>
</html>

<script  type="module">
     
     import navbar1 from './components/navbar1.js'
import footer1 from './components/footer1.js'
import sorting from './components/sorting.js'
import product from './components/product.js'
document.getElementById("navbar_main").innerHTML = navbar1();
document.getElementById("footer1").innerHTML = footer1();
document.getElementById("sorting").innerHTML = sorting()
document.getElementById("mens_shirt").innerHTML = product();
document.getElementById("menu").addEventListener("click", openMenu);

  function openMenu(){
    document.getElementById("dropdown").classList.toggle("active");
  }

  document.getElementById("menu1").addEventListener("click", openMenu1);
  
  function openMenu1(){
    document.getElementById("dropdown1").classList.toggle("active");
  }

  document.getElementById("menu2").addEventListener("click", openMenu2);
  
  function openMenu2(){
    document.getElementById("dropdown2").classList.toggle("active");
  }
  
  document.getElementById("menu3").addEventListener("click", openMenu3);
  
  function openMenu3(){
    document.getElementById("dropdown3").classList.toggle("active");
  }


  function mens(i,b,d,r,p,c){
  this.imageurl = i;
  this.brand = b;
  this.desc = d;
  this.ratings = r;
  this.price = p;
  this.cutoff_price= c;
 
}


  let menShirt = [];
let w1 = new mens("https://m.media-amazon.com/images/I/81ALpSfIiOL._AC_SR255,340_.jpg",
        "CeCe",
       "Short sleves Round Neck Tees",
      "⭐⭐⭐⭐⭐", 50.00, null);
menShirt.push(w1)

let w2 = new mens( "https://m.media-amazon.com/images/I/81eUMKdBuPL._AC_SR255,340_.jpg",
        "Nic+Zoe",
       "Perfect Layer Cotton Printed Shirt",
        "⭐⭐⭐⭐⭐",69.95, 85.00) ;
menShirt.push(w2)

let w3 = new mens( "https://m.media-amazon.com/images/I/61SFAqf9EDL._AC_SR255,340_.jpg",
        "Madewells",
       "Round Neck Plain White  T-Shirt ",
       "⭐⭐⭐⭐⭐",98.11,165.00);
menShirt.push(w3)

let w4 = new mens("https://m.media-amazon.com/images/I/71YKqYLNA7L._AC_SR255,340_.jpg",
        "Henes",
       "Round Neck Plain Black  T-Shirt ",
"⭐⭐⭐⭐⭐",39.99,49.99);
menShirt.push(w4)

let w5 = new mens( "https://m.media-amazon.com/images/I/61LD0gck1DL._AC_SR255,340_.jpg",
        "Alternative",
       "Step Herm PopoVern In Layers With a color neck",
"⭐⭐⭐⭐⭐", 69.95, 74.99,);
menShirt.push(w5)


let w6 = new mens( "https://m.media-amazon.com/images/I/81Lnc5Nr9EL._AC_SR255,340_.jpg",
        "Armour",
       "Color Neck Comfortable Cotton Mix T-Shirt",
     "⭐⭐⭐⭐⭐",
    79.95,
     84.99,);
     menShirt.push(w6)

let w7 = new mens( "https://m.media-amazon.com/images/I/71QdUTlawTL._AC_SR255,340_.jpg",
        "Madewell",
       "UA-Tech VNeck T-Shirt With A Good Fabric",
   "⭐⭐⭐",
    53.99,
    77.99);
    menShirt.push(w7)

let w8 = new mens( 
      
    "https://m.media-amazon.com/images/I/71fAPkW49fL._AC_SR255,340_.jpg",
        "Free People",
       "American Rino T-Shirt",
     "⭐⭐⭐",
     65.00,
    75.98);
    menShirt.push(w8)

let w9 = new mens( "https://m.media-amazon.com/images/I/71er1W7Df5L._AC_SR255,340_.jpg",
        "AberCrombia &Fitch",
       "Fether Weight Cotton Shirt Casual Wear",
         "⭐⭐⭐⭐⭐",
         109.1,
         170.00);
     menShirt.push(w9)

let w10 = new mens( 
    "https://m.media-amazon.com/images/I/61L9JVNvo9L._AC_SR255,340_.jpg",
        "Salty Crew@",
       "BoyFriend Shirt With Good Fitness",
     "⭐⭐",
     142.50,
     179.00);
     menShirt.push(w10)

let w11 = new mens( 
    "https://m.media-amazon.com/images/I/71OL+zOndQL._AC_SR255,340_.jpg",
        "Levies",
       "Marlie London Paris T-Shirt",
     "⭐⭐⭐⭐⭐",
     35.60,
     68.99);
     menShirt.push(w11)

let w12 = new mens( 
        "https://m.media-amazon.com/images/I/61hjDKNSSYL._AC_SR255,340_.jpg",
        "Armour",
       "Model Tee Blend Racer T-Shirt",
    "⭐⭐⭐",
     134.98,
     245.00);
     menShirt.push(w12)

let w13 = new mens(  "https://m.media-amazon.com/images/I/71jCwzW8aKL._AC_SR255,340_.jpg",
        "Free People",
       "Orange T-Shirt Classic Fitness",
     "⭐⭐⭐⭐⭐",
     99.99,
    112.89);
    menShirt.push(w13)

let w14 = new mens( "https://m.media-amazon.com/images/I/711-47XvolL._AC_SR255,340_.jpg",
        "Life is Good",
       "Light Weight Slub Jersy Short Sleeves Great Dad T-Shirt",
     "⭐⭐⭐",
     129.67,
     150.45);
     menShirt.push(w14)

let w15= new mens(  "https://m.media-amazon.com/images/I/819ucm19esL._AC_SR255,340_.jpg",
        "Carve Design",
       "Wisper Cotton T-Shirt With Checks",
     "⭐⭐⭐⭐⭐",
     264.95,
     369.99);
     menShirt.push(w15)



let w17 = new mens( "https://m.media-amazon.com/images/I/81xOBbOWIiL._AC_SR255,340_.jpg",
        "Life is Good",
       "Men Full Active T-Shirt With Black in Color",
    "⭐⭐⭐⭐⭐",
     139.09,
     269.99);
     menShirt.push(w17)

     localStorage.setItem("womens", JSON.stringify(menShirt));
    let cartData = JSON.parse(localStorage.getItem("cart"))||[];


    function display(menShirt){
      document.getElementById("items").innerHTML = "";
      menShirt.forEach((el,i,arr) =>{
  let box = document.createElement('div');
  box.setAttribute("id", "box");
  box.addEventListener("click", myFunction);
  function myFunction(){
    addToCart(el);
    window.open("womenDetails.html", "_blank")
  }
  let image = document.createElement("img");
  image.setAttribute("class", "img1")
  image.src = el.imageurl;
  let brand = document.createElement("h3");
  brand.innerText = el.brand;
  let desc = document.createElement("p");
  desc.innerText = el.desc;
  let ratings = document.createElement("h2");
  ratings.innerText = el.ratings;
  let box2 = document.createElement("div");
  box2.setAttribute("id", "box2")

  let price = document.createElement("h2");
  price.innerText = el.price;
  price.setAttribute("class", "price")
  let cutoff_price = document.createElement("h2");
  cutoff_price.setAttribute("class", "cutoff")
  cutoff_price.innerText = el.cutoff_price;
  let btn = document.createElement("button");
  btn.innerText = "Add to Cart";
  btn.setAttribute("class", "btn");
  btn.addEventListener("click", function(){
    SaveToCart(el, i);
  })
  box2.append(price, cutoff_price)
  box.append(image,brand,desc,ratings,box2, btn);
  document.getElementById("items").append(box);

})
    }

    display(menShirt);

    function SaveToCart(el,i){
      let index_arr = JSON.parse(localStorage.getItem("items")) || [];
      index_arr.push(el);
      localStorage.setItem("items", JSON.stringify(index_arr))
window.location.href= "mycart.html"    
    }

 

function addToCart(el){
  cartData = [];
  cartData.push(el);
  localStorage.setItem("cart", JSON.stringify("cartData"))
}



let priceFilter = document.querySelector("#sort1");
priceFilter.addEventListener("change", priceSortFun);
function priceSortFun(){
  event.preventDefault();
  // document.querySelector("#womens_shirt").innerHTML = "";
   if(priceFilter.value == "rev" ){
    return display(menShirt);
   }
   else if(priceFilter.value == "lth"){
    menShirt.sort(function(a,b){
      return a.price-b.price;

    })
   }
   else if(priceFilter.value == "htl"){
    menShirt.sort(function(a,b){
      return b.price-a.price;
    })
   }
   display(menShirt)
}



</script>